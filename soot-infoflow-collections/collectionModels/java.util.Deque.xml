<?xml version="1.0" ?>

<collectionModel class="java.util.Deque" type="position">
    <method subsig="boolean add(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="void addFirst(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="void addLast(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
            <data idx="0" />
        </insert>
    </method>
    <!-- contains handled by fallback -->
    <method subsig="java.util.Iterator descendingIterator()">
        <invalidate field="[java.util.Collection: java.lang.Object[] innerArray]">
            <target idx="base" />
            <return field="[java.util.Iterator: java.lang.Object innerCollection]"
                    type="[java.lang.Object]" />
        </invalidate>
    </method>
    <method subsig="java.lang.Object element()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
    </method>
    <method subsig="java.lang.Object getFirst()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
    </method>
    <method subsig="java.lang.Object getLast()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </access>
    </method>
    <method subsig="java.util.Iterator iterator()">
        <invalidate field="[java.util.Collection: java.lang.Object[] innerArray]">
            <target idx="base" />
            <return field="[java.util.Iterator: java.lang.Object innerCollection]"
                    type="[java.lang.Object]" />
        </invalidate>
    </method>
    <method subsig="boolean offer(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="boolean offerFirst(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="boolean offerLast(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="java.lang.Object peek()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
    </method>
    <method subsig="java.lang.Object peekFirst()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
    </method>
    <method subsig="java.lang.Object peekLast()">
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </access>
    </method>
    <method subsig="java.lang.Object poll()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </shiftLeft>
    </method>
    <method subsig="java.lang.Object pollFirst()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </shiftLeft>
    </method>
    <method subsig="java.lang.Object pollLast()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </access>
    </method>
    <method subsig="java.lang.Object pop()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </access>
    </method>
    <method subsig="void push(java.lang.Object)">
        <insert field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
            <data idx="0" />
        </insert>
    </method>
    <method subsig="java.lang.Object remove()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </shiftLeft>
    </method>
    <method subsig="boolean remove(java.lang.Object)">
        <!-- We cannot remove any element but might shift -->
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <index idx="all" />
        </shiftLeft>
    </method>
    <method subsig="java.lang.Object removeFirst()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </access>
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="first" />
        </shiftLeft>
    </method>
    <method subsig="boolean removeFirstOccurrence(java.lang.Object)">
        <!-- We cannot remove any element but might shift -->
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <index idx="all" />
        </shiftLeft>
    </method>
    <method subsig="java.lang.Object removeLast()">
        <remove field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </remove>
        <access field="[java.util.Collection: java.lang.Object[] innerArray]">
            <key idx="last" />
        </access>
    </method>
    <method subsig="boolean removeLastOccurrence(java.lang.Object)">
        <!-- We cannot remove any element but might shift -->
        <shiftLeft field="[java.util.Collection: java.lang.Object[] innerArray]">
            <index idx="all" />
        </shiftLeft>
    </method>
</collectionModel>
